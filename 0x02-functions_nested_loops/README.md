On functions and nested loops
